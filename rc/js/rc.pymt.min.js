rc.wf.integrations=rc.wf.integrations||{},rc.wf.integrations.isModeValid=function(){return"view"!=rc.getCurrentMode()?!1:rc.isEditMode?!1:!0},rc.wf.integrations.Corduro=function(a,b){if(console.log("rc.wf.integrations.Corduro"),!rc.wf.integrations.isModeValid())return a.reject("Internal error: form is not running in a public sites context.");if(!b.attr("data-auth-token"))return a.reject("Configuration error: authorization token is blank/missing");if(!b.attr("data-auth-only"))return a.reject("Configuration error: auth-only (true/false) is blank/missing");if(!b.attr("data-test-only"))return a.reject("Configuration error: test-only (true/false) is blank/missing");var c=b.attr("data-auth-token");rc.wf.integrations.Corduro.snap="true"==b.attr("data-auth-only")?new SNAP2(!0,c,""):new SNAP2(!1,"",c);var d=rc.wf.integrations.Corduro.snap;d.amount="0",d.cssStyleURL="",d.divName="corduro_snap",d.companyName=b.attr("data-auth-only")||"Test Company",d.authOnly="true"==b.attr("data-auth-only")?"AUTHONLY":null,d.showAmount=!0,d.showCredit=!0,d.showAmex=!0,d.showMC=!0,d.showVisa=!0,d.emailVisible=!1,d.vault=!0,d.callbackFunction=function(c){$("#rc-modal-processing").modal("hide");try{rc.wf.integrations.Corduro.done(a,b,c)}catch(d){return a.reject(d)}}},rc.wf.integrations.Corduro.send=function(a,b){console.log("rc.wf.integrations.Corduro.send"),$("#corduro_snap").find('input[type="text"]').addClass("form-control"),$("#corduro_snap").find('input[type="submit"]').addClass("btn btn-default"),$("#corduro_snap").find("select").addClass("form-control"),$("#corduro_snap").find(".popup_header_bill").remove();var c=null,d={},e=rc.wf.integrations.Corduro.snap;if(e)if(b.paymentDetails&&"One Payment"===b.paymentDetails.frequency){var f=b.paymentDetails.eventGivingAmount||0;e.updateAmount(f.toString())}else e.updateAmount("0");d['input[name="'+rc.ns+'address_street_line_1__c"]']={target:'#corduro_snap [id^="f_address1"]',fieldName:rc.ns+"address_street_line_1__c"},d['input[name="'+rc.ns+'address_street_line_2__c"]']={target:'#corduro_snap [id^="f_address2"]',fieldName:rc.ns+"address_street_line_2__c"},d['input[name="'+rc.ns+'address_city__c"]']={target:'#corduro_snap [id^="f_city"]',fieldName:rc.ns+"address_city__c"},d['input[name="'+rc.ns+'address_country__c"]']={target:'#corduro_snap [id^="f_country"]',fieldName:rc.ns+"address_country__c"},d['input[name="'+rc.ns+'address_postal_code__c"]']={target:'#corduro_snap [id^="f_zip"]',fieldName:rc.ns+"address_postal_code__c"},d['input[name="'+rc.ns+'address_state__c"]']={target:'#corduro_snap [id^="f_state"]',fieldName:rc.ns+"address_state__c"},d['input[name="'+rc.ns+'contact_1_email__c"]']={target:'#corduro_snap [id^="f_email"]',fieldName:rc.ns+"contact_1_email__c"},d['input[name="'+rc.ns+'payment_method_card_holder_name__c"]']={target:'#corduro_snap [id^="f_name_on_card"]',fieldName:rc.ns+"payment_method_card_holder_name__c"},d['input[data-name="'+rc.ns+'payment_method_card_number__c"]']={target:'#corduro_snap [id^="f_card_no"]',fieldName:rc.ns+"payment_method_card_number__c"},d['input[name="'+rc.ns+'payment_method_card_expiration_month__c"]']={target:'#corduro_snap [id^="f_exp_month"]',fieldName:rc.ns+"payment_method_card_expiration_month__c"},d['input[name="'+rc.ns+'payment_method_card_expiration_year__c"]']={target:'#corduro_snap [id^="f_exp_year"]',fieldName:rc.ns+"payment_method_card_expiration_year__c"},d['input[data-name="'+rc.ns+'payment_method_card_security_code__c"]']={target:'#corduro_snap [id^="f_CID"]',fieldName:rc.ns+"payment_method_card_security_code__c"},$.each(d,function(a,b){var c=rc.dataModal.getFieldByName(b.fieldName,a);$(b.target).val(c)}),c=$("#corduro_snap").find('[id^="f_country"]'),c.val(c.val()||"United States"),c=$("#corduro_snap").find('[id^="f_email"]'),c.val(c.val()||"undefined@example.com"),$("#process_animcorduro_snap").hide(),$("#corduro_snap").find('input[type="submit"].form_button_donate').click(),"block"==$("#process_animcorduro_snap").css("display")?(console.log("all good"),$("#rc-modal-processing").modal("show")):(console.log("no good"),$("#rc-modal-processing").modal("hide"))},rc.wf.integrations.Corduro.done=function(a,b,c){console.log("rc.wf.integrations.Corduro.done"),c=c||{},a=a||new jQuery.Deferred;var d="true"==b.attr("data-auth-only")?"":"Charge",e="APPROVED"==c.approvalstatus?"true":"false";if($('fields[name="'+rc.ns+'payment_method_card_last_four_digits__c"]').val(c.maskcardno.replace(/\*/g,"")),$('input[name="'+rc.ns+'payment_method_card_guid__c"]').val(c.vaultguid),$('input[name="'+rc.ns+'payment_method_card_issuer__c"]').val(c.cardtype),$('input[name="'+rc.ns+'payment_method_payment_type__c"]').val("Charge Card"),$('input[name="'+rc.ns+'batch_upload_campaign_matched__c"]').val(rc.campaignId),$('input[name="'+rc.ns+'payment_processor__c"]').val("Corduro"),1==b.paymentDetails.isGiving){$('input[name="'+rc.ns+'giving_transaction_type__c"]').val(d),$('input[name="'+rc.ns+'giving_close_date__c"]').val(rc.dateValue),$('input[name="'+rc.ns+'giving_close_date_time__c"]').val(rc.dateTimeValue),$('input[name="'+rc.ns+'giving_giving_frequency__c"]').val("One Payment");var f="true"==b.attr("data-auth-only")?"false":e,g="true"==f;$('input[name="'+rc.ns+'giving_paid__c"]').val(f).prop("checked",g),$('input[name="'+rc.ns+'giving_giving_amount__c"]').val(b.paymentDetails.givingAmount)}if(1==b.paymentDetails.isEvent){var h="true"==b.attr("data-auth-only")?"false":e,g="true"==h;$('input[name="'+rc.ns+'event_purchase_giving_paid__c"]').val(h).prop("checked",g),$('input[name="'+rc.ns+'event_purchase_giving_amount__c"]').val(b.paymentDetails.eventAmount)}return console.log("recv.approvalstatus = "+c.approvalstatus),"APPROVED"!=c.approvalstatus?a.reject("Denied: "+c.approvalstatus):void a.resolve()},rc.wf.integrations.IATS=function(a,b){return rc.wf.integrations.isModeValid()?rc.wf.integrations.IATS.send(a,b):a.reject("Internal error: form is not running in a public sites context.")},rc.wf.integrations.IATS.send=function(a,b){var d={},e={};d['input[name="'+rc.ns+'address_street_line_1__c"]']={target:"address",fieldName:rc.ns+"address_street_line_1__c"},d['input[name="'+rc.ns+'address_city__c"]']={target:"address_city",fieldName:rc.ns+"address_city__c"},d['input[name="'+rc.ns+'address_country__c"]']={target:"address_country",fieldName:rc.ns+"address_country__c"},d['input[name="'+rc.ns+'address_postal_code__c"]']={target:"address_postal_code",fieldName:rc.ns+"address_postal_code__c"},d['input[name="'+rc.ns+'address_state__c"]']={target:"address_state",fieldName:rc.ns+"address_state__c"},d['input[name="'+rc.ns+'contact_1_email__c"]']={target:"contact_1_email",fieldName:rc.ns+"contact_1_email__c"},d['input[name="'+rc.ns+'payment_method_card_holder_name__c"]']={target:"payment_method_card_holder_name",fieldName:rc.ns+"payment_method_card_holder_name__c"},d['input[data-name="'+rc.ns+'payment_method_card_number__c"]']={target:"payment_method_card_number",fieldName:rc.ns+"payment_method_card_number__c"},d['input[name="'+rc.ns+'payment_method_card_expiration_month__c"]']={target:"payment_method_card_expiration_month",fieldName:rc.ns+"payment_method_card_expiration_month__c"},d['input[name="'+rc.ns+'payment_method_card_expiration_year__c"]']={target:"payment_method_card_expiration_year",fieldName:rc.ns+"payment_method_card_expiration_year__c"},d['input[data-name="'+rc.ns+'payment_method_card_security_code__c"]']={target:"payment_method_card_security_code",fieldName:rc.ns+"payment_method_card_expiration_year__c"},$.each(d,function(a,b){var c=rc.dataModal.getFieldByName(b.fieldName,a);e[b.target]=c}),e.amount=b.paymentDetails.eventGivingAmount||0,e.merchant_name=rc.merchantName,e.__action=rc.actions.processIATSPayment,rc.remoting.invokeAction(rc.actions.processIATSPayment,e,function(c){try{rc.wf.integrations.IATS.done(a,b,c)}catch(d){return a.reject(d)}}),$("#rc-modal-processing").modal("show")},rc.wf.integrations.IATS.done=function(a,b,c){c=c||{},a=a||new jQuery.Deferred;var d="true"==c.isSuccess;return $('input[name="'+rc.ns+'payment_method_card_last_four_digits__c"]').val(c.lastFourDigits),$('input[name="'+rc.ns+'payment_method_card_guid__c"]').val(c.CUSTOMERCODE),$('input[name="'+rc.ns+'payment_method_card_issuer__c"]').val(c.cardtype),$('input[data-name="'+rc.ns+'payment_method_card_security_code__c"]').attr("name",rc.ns+"payment_method_card_security_code__c"),$('input[name="'+rc.ns+'payment_method_payment_type__c"]').val("Charge Card"),$('input[name="'+rc.ns+'batch_upload_campaign_matched__c"]').val(rc.campaignId),$('input[name="'+rc.ns+'payment_processor__c"]').val("iATS"),$('input[name="'+rc.ns+'merchant_name__c"]').val(rc.merchantName),$('input[name="'+rc.ns+'giving_response_code__c"]').val(c.responseCode),$('input[name="'+rc.ns+'giving_response_message__c"]').val(c.responseMessage),void 0!=c.TRANSACTIONID&&$('input[name="'+rc.ns+'giving_transaction_id__c"]').val(c.TRANSACTIONID),1==b.paymentDetails.isGiving&&($('input[name="'+rc.ns+'giving_close_date__c"]').val(c.date),$('input[name="'+rc.ns+'giving_close_date_time__c"]').val(c.dateTime),$('input[name="'+rc.ns+'giving_transaction_type__c"]').val("Payment"),$('input[name="'+rc.ns+'giving_giving_frequency__c"]').val(b.paymentDetails.frequency),$('input[name="'+rc.ns+'giving_paid__c"]').val(""+c.isSuccess).prop("checked",d),$('input[name="'+rc.ns+'giving_giving_amount__c"]').val(b.paymentDetails.givingAmount)),1==b.paymentDetails.isEvent&&($('input[name="'+rc.ns+'event_purchase_giving_paid__c"]').val(""+c.isSuccess).prop("checked",d),$('input[name="'+rc.ns+'event_purchase_giving_amount__c"]').val(b.paymentDetails.eventAmount)),$("#rc-modal-processing").modal("hide"),"true"!=c.isSuccess?($("#rc-modal-processing").modal("hide"),a.reject("Denied: "+c.responseMessage+"  "+c.responseCode)):void a.resolve()},rc.wf.integrations.Cybersource=function(a,b){return rc.wf.integrations.isModeValid()?rc.wf.integrations.Cybersource.send(a,b):a.reject("Internal error: form is not running in a public sites context.")},rc.wf.integrations.Cybersource.send=function(a,b){var d={},e={};d['input[name="'+rc.ns+'address_street_line_1__c"]']={target:"address",fieldName:rc.ns+"address_street_line_1__c"},d['input[name="'+rc.ns+'address_city__c"]']={target:"address_city",fieldName:rc.ns+"address_city__c"},d['input[name="'+rc.ns+'address_country__c"]']={target:"address_country",fieldName:rc.ns+"address_country__c"},d['input[name="'+rc.ns+'address_postal_code__c"]']={target:"address_postal_code",fieldName:rc.ns+"address_postal_code__c"},d['input[name="'+rc.ns+'address_state__c"]']={target:"address_state",fieldName:rc.ns+"address_state__c"},d['input[name="'+rc.ns+'contact_1_email__c"]']={target:"contact_1_email",fieldName:rc.ns+"contact_1_email__c"},d['input[name="'+rc.ns+'contact_1_phone__c"]']={target:"contact_1_phone",fieldName:rc.ns+"contact_1_phone__c"},d['input[name="'+rc.ns+'payment_method_card_holder_name__c"]']={target:"payment_method_card_holder_name",fieldName:rc.ns+"payment_method_card_holder_name__c"},d['input[data-name="'+rc.ns+'payment_method_card_number__c"]']={target:"payment_method_card_number",fieldName:rc.ns+"payment_method_card_number__c"},d['input[name="'+rc.ns+'payment_method_card_expiration_month__c"]']={target:"payment_method_card_expiration_month",fieldName:rc.ns+"payment_method_card_expiration_month__c"},d['input[name="'+rc.ns+'payment_method_card_expiration_year__c"]']={target:"payment_method_card_expiration_year",fieldName:rc.ns+"payment_method_card_expiration_year__c"},d['input[data-name="'+rc.ns+'payment_method_card_security_code__c"]']={target:"payment_method_card_security_code",fieldName:rc.ns+"payment_method_card_security_code__c"},$.each(d,function(a,b){var c=rc.dataModal.getFieldByName(b.fieldName,a);e[b.target]=c}),e.amount=b.paymentDetails.eventGivingAmount||0,e.merchant_name=rc.merchantName,e.controllerid=rc.campaignId,e.__action=rc.actions.processCybersourcePayment,rc.remoting.invokeAction(rc.actions.processCybersourcePayment,e,function(c){try{rc.wf.integrations.Cybersource.done(a,b,c)}catch(e){return a.reject(e)}}),$("#rc-modal-processing").modal("show")},rc.wf.integrations.Cybersource.done=function(a,b,c){c=c||{},a=a||new jQuery.Deferred;var d="true"==c.isSuccess;return $('input[name="'+rc.ns+'payment_method_card_last_four_digits__c"]').val(c.lastFourDigits),$('input[name="'+rc.ns+'payment_method_card_guid__c"]').val(c.CybersourceToken),c.CybersourceToken||($('input[data-name="'+rc.ns+'payment_method_card_number__c"]').attr("name",rc.ns+"payment_method_card_number__c"),$('input[data-name="'+rc.ns+'payment_method_card_security_code__c"]').attr("name",rc.ns+"payment_method_card_security_code__c")),$('input[name="'+rc.ns+'payment_method_card_issuer__c"]').val(c.cardtype),$('input[name="'+rc.ns+'payment_method_payment_type__c"]').val("Charge Card"),$('input[name="'+rc.ns+'batch_upload_campaign_matched__c"]').val(rc.campaignId),$('input[name="'+rc.ns+'payment_processor__c"]').val("Cybersource"),$('input[name="'+rc.ns+'merchant_name__c"]').val(rc.merchantName),c.responseCode&&$('input[name="'+rc.ns+'giving_response_code__c"]').val(c.responseCode),c.responseMessage&&$('input[name="'+rc.ns+'giving_response_message__c"]').val(c.responseMessage),void 0!=c.TRANSACTIONID&&$('input[name="'+rc.ns+'giving_transaction_id__c"]').val(c.TRANSACTIONID),1==b.paymentDetails.isGiving&&($('input[name="'+rc.ns+'giving_close_date__c"]').val(c.date),$('input[name="'+rc.ns+'giving_close_date_time__c"]').val(c.dateTime),$('input[name="'+rc.ns+'giving_transaction_type__c"]').val("Payment"),$('input[name="'+rc.ns+'giving_giving_frequency__c"]').val(b.paymentDetails.frequency),$('input[name="'+rc.ns+'giving_paid__c"]').val(""+c.isSuccess).prop("checked",d),$('input[name="'+rc.ns+'giving_giving_amount__c"]').val(b.paymentDetails.givingAmount)),1==b.paymentDetails.isEvent&&($('input[name="'+rc.ns+'event_purchase_giving_paid__c"]').val(""+c.isSuccess).prop("checked",d),$('input[name="'+rc.ns+'event_purchase_giving_amount__c"]').val(b.paymentDetails.eventAmount)),$("#rc-modal-processing").modal("hide"),"true"!=c.isSuccess?a.reject("Denied: "+c.responseMessage+"  "+c.responseCode):void a.resolve()},rc.wf.integrations.Litle=function(a,b){return rc.wf.integrations.isModeValid()?rc.wf.integrations.Litle.send(a,b):a.reject("Internal error: form is not running in a public sites context.")},rc.wf.integrations.Litle.send=function(a,b){var d={},e={};d['input[name="'+rc.ns+'address_street_line_1__c"]']={target:"address",fieldName:rc.ns+"address_street_line_1__c"},d["input[name=]"]={target:"address_city",fieldName:rc.ns+"address_city__c"},d['input[name="'+rc.ns+'address_country__c"]']={target:"address_country",fieldName:rc.ns+"address_country__c"},d['input[name="'+rc.ns+'address_postal_code__c"]']={target:"address_postal_code",fieldName:rc.ns+"address_postal_code__c"},d['input[name="'+rc.ns+'address_state__c"]']={target:"address_state",fieldName:rc.ns+"address_state__c"},d['input[name="'+rc.ns+'contact_1_email__c"]']={target:"contact_1_email",fieldName:rc.ns+"contact_1_email__c"},d['input[name="'+rc.ns+'payment_method_card_holder_name__c"]']={target:"payment_method_card_holder_name",fieldName:rc.ns+"payment_method_card_holder_name__c"},d['input[data-name="'+rc.ns+'payment_method_card_number__c"]']={target:"payment_method_card_number",fieldName:rc.ns+"payment_method_card_number__c"},d['input[name="'+rc.ns+'payment_method_card_expiration_month__c"]']={target:"payment_method_card_expiration_month",fieldName:rc.ns+"payment_method_card_expiration_month__c"},d['input[name="'+rc.ns+'payment_method_card_expiration_year__c"]']={target:"payment_method_card_expiration_year",fieldName:rc.ns+"payment_method_card_expiration_year__c"},d['input[data-name="'+rc.ns+'payment_method_card_security_code__c"]']={target:"payment_method_card_security_code",fieldName:rc.ns+"payment_method_card_security_code__c"},$.each(d,function(a,b){var c=rc.dataModal.getFieldByName(b.fieldName,a);e[b.target]=c}),e.amount=b.paymentDetails.eventGivingAmount||0,e.merchant_name=rc.merchantName,e.isAdvancedFraudDetection=$(b).attr("data-advanced-fraud-detection"),e.sessionId=rc.sessionId,e.__action=rc.actions.processLitlePayment,rc.remoting.invokeAction(rc.actions.processLitlePayment,e,function(c){try{rc.wf.integrations.Litle.done(a,b,c)}catch(d){return a.reject(d)}}),$("#rc-modal-processing").modal("show")},rc.wf.integrations.Litle.done=function(a,b,c){c=c||{},a=a||new jQuery.Deferred;var d="true"==c.isSuccess;if($('input[name="'+rc.ns+'payment_method_card_last_four_digits__c"]').val(c.lastFourDigits),$('input[name="'+rc.ns+'payment_method_card_guid__c"]').val(c.litleToken),c.litleToken||($('input[data-name="'+rc.ns+'payment_method_card_number__c"]').attr("name",rc.ns+"payment_method_card_number__c"),$('input[data-name="'+rc.ns+'payment_method_card_security_code__c"]').attr("name",rc.ns+"payment_method_card_security_code__c")),$('input[name="'+rc.ns+'payment_method_card_issuer__c"]').val(c.cardtype),$('input[name="'+rc.ns+'payment_method_payment_type__c"]').val("Charge Card"),$('input[name="'+rc.ns+'batch_upload_campaign_matched__c"]').val(rc.campaignId),$('input[name="'+rc.ns+'payment_processor__c"]').val("Litle"),$('input[name="'+rc.ns+'merchant_name__c"]').val(rc.merchantName),c.responseCode&&$('input[name="'+rc.ns+'giving_response_code__c"]').val(c.responseCode),c.responseMessage&&$('input[name="'+rc.ns+'giving_response_message__c"]').val(c.responseMessage),c.isAvancedFraudDetection){var e=$('input[name="'+rc.ns+'giving_response_message__c"]').val();c.deviceReviewStatus&&(e=e+";deviceReviewStatus:"+c.deviceReviewStatus),c.deviceReputationScore&&(e=e+";deviceReputationScore:"+c.deviceReputationScore),$('input[name="'+rc.ns+'giving_response_message__c"]').val(e)}return void 0!=c.TRANSACTIONID&&$('input[name="'+rc.ns+'giving_transaction_id__c"]').val(c.TRANSACTIONID),1==b.paymentDetails.isGiving&&($('input[name="'+rc.ns+'giving_close_date__c"]').val(c.date),$('input[name="'+rc.ns+'giving_close_date_time__c"]').val(c.dateTime),$('input[name="'+rc.ns+'giving_transaction_type__c"]').val("Payment"),$('input[name="'+rc.ns+'giving_giving_frequency__c"]').val(b.paymentDetails.frequency),$('input[name="'+rc.ns+'giving_paid__c"]').val(""+c.isSuccess).prop("checked",d),$('input[name="'+rc.ns+'giving_giving_amount__c"]').val(b.paymentDetails.givingAmount)),1==b.paymentDetails.isEvent&&($('input[name="'+rc.ns+'event_purchase_giving_paid__c"]').val(""+c.isSuccess).prop("checked",d),$('input[name="'+rc.ns+'event_purchase_giving_amount__c"]').val(b.paymentDetails.eventAmount)),$("#rc-modal-processing").modal("hide"),"true"!=c.isSuccess?a.reject("Denied: "+c.responseMessage+"  "+c.responseCode):void a.resolve()},rc.wf.integrations.AuthDotNet=function(a,b){return rc.wf.integrations.isModeValid()?rc.wf.integrations.AuthDotNet.send(a,b):a.reject("Internal error: form is not running in a public sites context.")},rc.wf.integrations.AuthDotNet.send=function(a,b){var d={},e={};d['input[name="'+rc.ns+'address_street_line_1__c"]']={target:"address",fieldName:rc.ns+"address_street_line_1__c"},d['input[name="'+rc.ns+'address_city__c"]']={target:"address_city",fieldName:rc.ns+"address_city__c"},d['input[name="'+rc.ns+'address_country__c"]']={target:"address_country",fieldName:rc.ns+"address_country__c"},d['input[name="'+rc.ns+'address_postal_code__c"]']={target:"address_postal_code",fieldName:rc.ns+"address_postal_code__c"},d['input[name="'+rc.ns+'address_state__c"]']={target:"address_state",fieldName:rc.ns+"address_state__c"},d['input[name="'+rc.ns+'contact_1_email__c"]']={target:"contact_1_email",fieldName:rc.ns+"contact_1_email__c"},d['input[name="'+rc.ns+'payment_method_card_holder_name__c"]']={target:"payment_method_card_holder_name",fieldName:rc.ns+"payment_method_card_holder_name__c"},d['input[data-name="'+rc.ns+'payment_method_card_number__c"]']={target:"payment_method_card_number",fieldName:rc.ns+"payment_method_card_number__c"},d['input[name="'+rc.ns+'payment_method_card_expiration_month__c"]']={target:"payment_method_card_expiration_month",fieldName:rc.ns+"payment_method_card_expiration_month__c"},d['input[name="'+rc.ns+'payment_method_card_expiration_year__c"]']={target:"payment_method_card_expiration_year",fieldName:rc.ns+"payment_method_card_expiration_year__c"},d['input[data-name="'+rc.ns+'payment_method_card_security_code__c"]']={target:"payment_method_card_security_code",fieldName:rc.ns+"payment_method_card_security_code__c"},$.each(d,function(a,b){var c=rc.dataModal.getFieldByName(b.fieldName,a);e[b.target]=c}),e.amount=b.paymentDetails.eventGivingAmount||0,e.merchant_name=rc.merchantName,e.__action=rc.actions.processAuthDotNetPayment,Visualforce.remoting.timeout=6e4,rc.remoting.invokeAction(rc.actions.processAuthDotNetPayment,e,function(c){try{rc.wf.integrations.AuthDotNet.done(a,b,c)}catch(d){return a.reject(d)}}),$("#rc-modal-processing").modal("show")},rc.wf.integrations.AuthDotNet.done=function(a,b,c){c=c||{},a=a||new jQuery.Deferred;var d="true"==c.isSuccess;return $('input[name="'+rc.ns+'payment_method_card_last_four_digits__c"]').val(c.lastFourDigits),$('input[data-name="'+rc.ns+'payment_method_card_number__c"]').attr("name",rc.ns+"payment_method_card_number__c"),$('input[data-name="'+rc.ns+'payment_method_card_number__c"]').val(c.cardnumber),$('input[name="'+rc.ns+'payment_method_card_expiration_month__c"]').val(c.expmonth),$('input[name="'+rc.ns+'payment_method_card_expiration_year__c"]').val(c.expyear),$('input[data-name="'+rc.ns+'payment_method_card_security_code__c"]').attr("name",rc.ns+"payment_method_card_security_code__c"),$('input[name="'+rc.ns+'payment_method_card_issuer__c"]').val(c.cardtype),$('input[name="'+rc.ns+'payment_method_payment_type__c"]').val("Charge Card"),$('input[name="'+rc.ns+'batch_upload_campaign_matched__c"]').val(rc.campaignId),$('input[name="'+rc.ns+'payment_processor__c"]').val("Authorize.net"),$('input[name="'+rc.ns+'merchant_name__c"]').val(rc.merchantName),$('input[name="'+rc.ns+'payment_method_card_guid__c"]').val(c.authValue),$('input[name="'+rc.ns+'giving_response_code__c"]').val(c.responseCode),$('input[name="'+rc.ns+'giving_response_message__c"]').val(c.responseMessage),void 0!=c.transId&&$('input[name="'+rc.ns+'giving_transaction_id__c"]').val(c.transId),1==b.paymentDetails.isGiving&&($('input[name="'+rc.ns+'giving_close_date__c"]').val(c.date),$('input[name="'+rc.ns+'giving_close_date_time__c"]').val(c.dateTime),$('input[name="'+rc.ns+'giving_transaction_type__c"]').val("Payment"),$('input[name="'+rc.ns+'giving_giving_frequency__c"]').val(b.paymentDetails.frequency),$('input[name="'+rc.ns+'giving_paid__c"]').val(""+c.isSuccess).prop("checked",d),$('input[name="'+rc.ns+'giving_giving_amount__c"]').val(b.paymentDetails.givingAmount)),1==b.paymentDetails.isEvent&&($('input[name="'+rc.ns+'event_purchase_giving_paid__c"]').val(""+c.isSuccess).prop("checked",d),$('input[name="'+rc.ns+'event_purchase_giving_amount__c"]').val(b.paymentDetails.eventAmount)),$("#rc-modal-processing").modal("hide"),"true"!=c.isSuccess?a.reject("Denied: "+c.responseMessage+"  "+c.responseCode):void a.resolve()},rc.wf.integrations.PayPal=function(a,b){return rc.wf.integrations.isModeValid()?rc.wf.integrations.PayPal.send(a,b):a.reject("Internal error: form is not running in a public sites context.")},rc.wf.integrations.PayPal.send=function(a,b){var d={},e={};d['input[name="'+rc.ns+'address_street_line_1__c"]']={target:"address",fieldName:rc.ns+"address_street_line_1__c"},d['input[name="'+rc.ns+'address_city__c"]']={target:"address_city",fieldName:rc.ns+"address_city__c"},d['input[name="'+rc.ns+'address_country__c"]']={target:"address_country",fieldName:rc.ns+"address_country__c"},d['input[name="'+rc.ns+'address_postal_code__c"]']={target:"address_postal_code",fieldName:rc.ns+"address_postal_code__c"},d['input[name="'+rc.ns+'address_state__c"]']={target:"address_state",fieldName:rc.ns+"address_state__c"},d['input[name="'+rc.ns+'contact_1_email__c"]']={target:"contact_1_email",fieldName:rc.ns+"contact_1_email__c"},d['input[name="'+rc.ns+'payment_method_card_holder_name__c"]']={target:"payment_method_card_holder_name",fieldName:rc.ns+"payment_method_card_holder_name__c"},d['input[data-name="'+rc.ns+'payment_method_card_number__c"]']={target:"payment_method_card_number",fieldName:rc.ns+"payment_method_card_number__c"},d['input[name="'+rc.ns+'payment_method_card_expiration_month__c"]']={target:"payment_method_card_expiration_month",fieldName:rc.ns+"payment_method_card_expiration_month__c"},d['input[name="'+rc.ns+'payment_method_card_expiration_year__c"]']={target:"payment_method_card_expiration_year",fieldName:rc.ns+"payment_method_card_expiration_year__c"},d['input[data-name="'+rc.ns+'payment_method_card_security_code__c"]']={target:"payment_method_card_security_code",fieldName:rc.ns+"payment_method_card_security_code__c"},$.each(d,function(a,b){var c=rc.dataModal.getFieldByName(b.fieldName,a);e[b.target]=c}),e.amount=b.paymentDetails.eventGivingAmount||0,e.merchant_name=rc.merchantName,e.__action=rc.actions.processPayPalPayment,Visualforce.remoting.timeout=6e4,rc.remoting.invokeAction(rc.actions.processPayPalPayment,e,function(c){try{rc.wf.integrations.PayPal.done(a,b,c)}catch(d){return a.reject(d)}}),$("#rc-modal-processing").modal("show")},rc.wf.integrations.PayPal.done=function(a,b,c){c=c||{},a=a||new jQuery.Deferred;var d="true"==c.isSuccess;return $('input[name="'+rc.ns+'payment_method_card_last_four_digits__c"]').val(c.lastFourDigits),$('input[data-name="'+rc.ns+'payment_method_card_number__c"]').attr("name",rc.ns+"payment_method_card_number__c"),$('input[data-name="'+rc.ns+'payment_method_card_number__c"]').val(c.cardnumber),$('input[name="'+rc.ns+'payment_method_card_expiration_month__c"]').val(c.expmonth),$('input[name="'+rc.ns+'payment_method_card_expiration_year__c"]').val(c.expyear),$('input[data-name="'+rc.ns+'payment_method_card_security_code__c"]').attr("name",rc.ns+"payment_method_card_security_code__c"),$('input[name="'+rc.ns+'payment_method_card_issuer__c"]').val(c.cardtype),$('input[name="'+rc.ns+'payment_method_payment_type__c"]').val("Charge Card"),$('input[name="'+rc.ns+'batch_upload_campaign_matched__c"]').val(rc.campaignId),$('input[name="'+rc.ns+'payment_processor__c"]').val("PayPal"),$('input[name="'+rc.ns+'merchant_name__c"]').val(rc.merchantName),$('input[name="'+rc.ns+'giving_response_code__c"]').val(c.responseCode),$('input[name="'+rc.ns+'giving_response_message__c"]').val(c.responseMessage),void 0!=c.TRANSACTIONID&&$('input[name="'+rc.ns+'giving_transaction_id__c"]').val(c.TRANSACTIONID),1==b.paymentDetails.isGiving&&($('input[name="'+rc.ns+'giving_close_date__c"]').val(c.date),$('input[name="'+rc.ns+'giving_close_date_time__c"]').val(c.dateTime),$('input[name="'+rc.ns+'giving_transaction_type__c"]').val("Payment"),$('input[name="'+rc.ns+'giving_giving_frequency__c"]').val(b.paymentDetails.frequency),$('input[name="'+rc.ns+'giving_paid__c"]').val(""+c.isSuccess).prop("checked",d),$('input[name="'+rc.ns+'giving_giving_amount__c"]').val(b.paymentDetails.givingAmount)),1==b.paymentDetails.isEvent&&($('input[name="'+rc.ns+'event_purchase_giving_paid__c"]').val(""+c.isSuccess).prop("checked",d),$('input[name="'+rc.ns+'event_purchase_giving_amount__c"]').val(b.paymentDetails.eventAmount)),$("#rc-modal-processing").modal("hide"),"true"!=c.isSuccess?a.reject("Denied: "+c.responseMessage+"  "+c.responseCode):void a.resolve()},rc.wf.integrations.Sage=function(a,b){var c=$('input[data-name="'+rc.ns+'payment_method_card_number__c"]').val();c=c.replace(/\s/g,"");var d=$('input[data-name="'+rc.ns+'payment_method_card_number__c"]').val();d=d.replace(/[^\d]+/g,"").substring(0,16).match(/.{1,4}/g)[3],$('input[name="'+rc.ns+'giving_close_date__c"]').val(rc.dateValue),$('input[name="'+rc.ns+'giving_close_date_time__c"]').val(rc.dateTimeValue),$('input[data-name="'+rc.ns+'payment_method_card_number__c"]').attr("name",rc.ns+"payment_method_card_number__c"),$('input[data-name="'+rc.ns+'payment_method_card_security_code__c"]').attr("name",rc.ns+"payment_method_card_security_code__c"),$('input[name="'+rc.ns+'payment_method_card_last_four_digits__c"]').val(d),$('input[name="'+rc.ns+'giving_transaction_type__c"]').val("Charge"),$('input[name="'+rc.ns+'payment_method_payment_type__c"]').val("Charge Card"),$('input[name="'+rc.ns+'batch_upload_campaign_matched__c"]').val(rc.campaignId),$('input[name="'+rc.ns+'payment_processor__c"]').val(b.attr("data-value")),$('input[name="'+rc.ns+'merchant_name__c"]').val(rc.merchantName),$('input[name="'+rc.ns+'giving_giving_amount__c"]').val(b.paymentDetails.givingAmount||0),$('input[name="'+rc.ns+'event_purchase_giving_amount__c"]').val(b.paymentDetails.eventAmount||0),$('input[name="'+rc.ns+'payment_method_card_issuer__c"]').val(rc.wf.process.getCreditCardType(c)),"Monthly"==b.paymentDetails.frequency&&$('input[name="'+rc.ns+'giving_is_sustainer__c"]').val("true").prop("checked",!0),1==b.paymentDetails.isGiving?$('input[name="'+rc.ns+'giving_paid__c"]').val("false").prop("checked",!1):1==b.paymentDetails.isEvent&&$('input[name="'+rc.ns+'event_purchase_giving_paid__c"]').val("false").prop("checked",!1),a.resolve()};
